/** MIT License
* 
* Copyright (c) 2017 Ludovic CLUBER 
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*
* http://mouettejs.lcluber.com
*/

var Mouette=function(){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r={info:{id:1,name:"info",color:"#28a745"},time:{id:2,name:"time",color:"#28a745"},trace:{id:3,name:"trace",color:"#17a2b8"},warn:{id:4,name:"warn",color:"#ffc107"},error:{id:5,name:"error",color:"#dc3545"},off:{id:99,name:"off",color:null}},n=function(){function t(t,e,n){this._level="error",this._console=!0,this._maxLength=200,this.level=t||this._level,this.console="boolean"==typeof e?e:this._console,this.maxLength=n||this.maxLength}var e,n,o;return t.prototype.displayMessage=function(t){return this._console&&r[this._level].id<=t},e=t,(n=[{key:"level",set:function(t){this._level=r.hasOwnProperty(t)?t:this._level},get:function(){return this._level}},{key:"console",set:function(t){this._console=!!t},get:function(){return this._console}},{key:"maxLength",set:function(t){this._maxLength=50<t?t:50},get:function(){return this._maxLength}}])&&i(e.prototype,n),o&&i(e,o),t}(),o=function(){function o(t,e){this.id=t.id,this.name=t.name,this.color=t.color,this.content=e,this.date=o.formatDate()}return o.prototype.display=function(t){var e="time"===this.name?"info":this.name;console[e]("%c["+t+"] "+this.date+" : ","color:"+this.color+";",this.content)},o.addZero=function(t){return t<10?"0"+t:t},o.formatDate=function(){var t=new Date,e=[o.addZero(t.getMonth()+1),o.addZero(t.getDate()),t.getFullYear().toString().substr(-2)],n=[o.addZero(t.getHours()),o.addZero(t.getMinutes()),o.addZero(t.getSeconds())];return e.join("/")+" "+n.join(":")},o}(),s=function(t){this.key=t,this.timestamp=(new Date).getTime()},a=function(){function t(t,e){this.name=t,this.logs=[],this.timers=[],this.options=new n(e.level,e.console,e.maxLength)}var e=t.prototype;return e.setLevel=function(t){return this.options.level=t,this.options.level},e.getLevel=function(){return this.options.level},e.displayConsole=function(t){return this.options.console=t,this.options.console},e.setMaxLength=function(t){return this.options.maxLength=t,this.options.maxLength},e.getMaxLength=function(){return this.options.maxLength},e.info=function(t){this.log(r.info,t)},e.trace=function(t){this.log(r.trace,t)},e.time=function(e){var t=this.timers.findIndex(function(t){return t.key===e});if(-1<t){var n=(new Date).getTime()-this.timers[t].timestamp;this.log(r.time,e+" completed in "+n+" ms"),this.timers.splice(t,1)}else this.addTimer(e),this.log(r.time,e+" started")},e.warn=function(t){this.log(r.warn,t)},e.error=function(t){this.log(r.error,t)},e.resetLogs=function(){this.logs=[]},e.log=function(t,e){var n=new o(t,e);this.options.displayMessage(n.id)&&(this.addLog(n),n.display(this.name))},e.addLog=function(t){this.logs.length>=this.options.maxLength&&this.logs.shift(),this.logs.push(t)},e.addTimer=function(t){this.timers.length>=this.options.maxLength&&this.timers.shift(),this.timers.push(new s(t))},t}(),t=function(){function t(){}return t.setLevel=function(t){this.options.level=t;var e=this.groups,n=Array.isArray(e),o=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if((o=e.next()).done)break;i=o.value}i.setLevel(this.options.level)}return this.getLevel()},t.getLevel=function(){return this.options.level},t.displayConsole=function(t){this.options.console=t;var e=this.groups,n=Array.isArray(e),o=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if((o=e.next()).done)break;i=o.value}i.displayConsole(this.options.console)}return this.options.console},t.addGroup=function(t){return this.getGroup(t)||this.createGroup(t)},t.getLogs=function(){var t=[],e=this.groups,n=Array.isArray(e),o=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if((o=e.next()).done)break;i=o.value}var r=i;t.push.apply(t,r.logs)}return t},t.resetLogs=function(){var t=this.groups,e=Array.isArray(t),n=0;for(t=e?t:t[Symbol.iterator]();;){var o;if(e){if(n>=t.length)break;o=t[n++]}else{if((n=t.next()).done)break;o=n.value}o.resetLogs()}},t.getGroup=function(t){var e=this.groups,n=Array.isArray(e),o=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(o>=e.length)break;i=e[o++]}else{if((o=e.next()).done)break;i=o.value}var r=i;if(r.name===t)return r}return null},t.createGroup=function(t){var e=new a(t,this.options);return this.groups.push(e),e},t}();return t.groups=[],t.options=new n,t}();